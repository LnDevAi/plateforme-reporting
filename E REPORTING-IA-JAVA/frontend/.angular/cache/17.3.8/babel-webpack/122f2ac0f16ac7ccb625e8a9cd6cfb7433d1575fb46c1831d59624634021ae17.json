{"ast":null,"code":"import _asyncToGenerator from \"/workspace/E REPORTING-IA-JAVA/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nexport let MeetingViewerPage = /*#__PURE__*/(() => {\n  class MeetingViewerPage {\n    constructor(route) {\n      this.route = route;\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const room = _this.route.snapshot.paramMap.get('room');\n        yield _this.ensureScript();\n        _this.api = new window.JitsiMeetExternalAPI('meet.jit.si', {\n          roomName: room,\n          parentNode: document.getElementById('jitsi-container'),\n          configOverwrite: {},\n          interfaceConfigOverwrite: {}\n        });\n      })();\n    }\n    ngOnDestroy() {\n      try {\n        this.api && this.api.dispose && this.api.dispose();\n      } catch {}\n    }\n    ensureScript() {\n      if (window.JitsiMeetExternalAPI) return Promise.resolve();\n      return new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        script.src = 'https://meet.jit.si/external_api.js';\n        script.async = true;\n        script.onload = () => resolve();\n        script.onerror = () => reject(new Error('Failed to load Jitsi API'));\n        document.body.appendChild(script);\n      });\n    }\n    static {\n      this.ɵfac = function MeetingViewerPage_Factory(t) {\n        return new (t || MeetingViewerPage)(i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: MeetingViewerPage,\n        selectors: [[\"app-meeting-viewer\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 4,\n        vars: 0,\n        consts: [[2, \"padding\", \"8px\"], [\"routerLink\", \"/sessions\"], [\"id\", \"jitsi-container\", 2, \"width\", \"100%\", \"height\", \"calc(100vh - 60px)\"]],\n        template: function MeetingViewerPage_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"a\", 1);\n            i0.ɵɵtext(2, \"\\u2190 Retour aux sessions\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(3, \"div\", 2);\n          }\n        },\n        dependencies: [CommonModule, RouterModule, i1.RouterLink],\n        encapsulation: 2\n      });\n    }\n  }\n  return MeetingViewerPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}