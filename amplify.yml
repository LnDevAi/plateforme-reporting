version: 1
applications:
  - appRoot: frontend
    env:
      variables:
        VITE_API_BASE_URL: https://api.plateforme-epe.com
        VITE_APP_NAME: "Plateforme EPE"
    buildSpec: |
      version: 1
      phases:
        preBuild:
          commands:
            - echo "🚀 Installation des dépendances..."
            - npm ci
        build:
          commands:
            - echo "🏗️ Build de production..."
            - npm run build
            - echo "✅ Build terminé"
      artifacts:
        baseDirectory: dist
        files:
          - '**/*'
      cache:
        paths:
          - node_modules/**/*